<application>
	<name>demoSharonSim</name>
	<module>
		<name>gazebo</name>
		<parameters>../worlds/teo_sharon_table.world</parameters>
		<node>localhost</node>
	</module>
	<module>
		<name>rgbdObjectDetection</name>
		<parameters>--sensorRemote /teoSim/camera --detector DnnDetector --context DnnDetector --from DnnDetectorSimulation.ini</parameters>
		<node>localhost</node>
	</module>

	<module>
		<name>remotecontrolboardremapper</name>
		<parameters>--name /teoSim/trunkAndRightArm --robot remotecontrolboardremapper --localPortPrefix /local/tra --axesNames "(AxialWaist FrontalWaist FrontalRightShoulder SagittalRightShoulder AxialRightShoulder FrontalRightElbow AxialRightWrist FrontalRightWrist)"  --remoteControlBoards "(/teoSim/trunk /teoSim/rightArm)" --solver KdlTreeSolver --ik nrjl --from teo-trunk-rightArm-fetch.ini --eps 0.001 --maxIter 1000
		</parameters>
		<node>localhost</node>
    <deployer>yarpdev</deployer>
	</module>
	<module>
		<name>controlboardremapper</name>
		<parameters>--name /teoSim/trunkAndRightArm --axesNames "(AxialWaist FrontalWaist FrontalRightShoulder SagittalRightShoulder AxialRightShoulder FrontalRightElbow AxialRightWrist FrontalRightWrist)"  
		</parameters>
		<node>localhost</node>
		<deployer>yarpdev</deployer>
	</module>
	<module>
		<name>remotecontrolboardremapper</name>
		<parameters>--name /teoSim/trunkAndLeftArm --robot remotecontrolboardremapper --localPortPrefix /local/tla --axesNames "(AxialWaist FrontalWaist FrontalLeftShoulder SagittalLeftShoulder AxialLeftShoulder FrontalLeftElbow AxialLeftWrist FrontalLeftWrist)"  --remoteControlBoards "(/teoSim/trunk /teoSim/leftArm)" --solver KdlTreeSolver --ik nrjl --from teo-trunk-leftArm-fetch.ini --eps 0.001 --maxIter 1000
		</parameters>
		<node>localhost</node>
    <deployer>yarpdev</deployer>
	</module>
	
	<module>
		<name>RealToSimControlboard</name>
		<parameters>--context RealToSimControlboard --from lacqueyFetch.ini --name /teoSim/rightHand --remotePrefix /teoSim/rightLacqueyFetch
		</parameters>
    <node>localhost</node>
    <deployer>yarpdev</deployer>
	</module>
	
	<module>
		<name>RealToSimControlboard</name>
		<parameters>--context RealToSimControlboard --from lacqueyFetch.ini --name /teoSim/leftHand --remotePrefix /teoSim/leftLacqueyFetch</parameters>
		<node>localhost</node>
		<deployer>yarpdev</deployer>
	</module>

	<module>
		<name>trajectoryGeneration</name>
		<parameters> --robot teoSim --prefix /trajectoryGeneration/trunkAndRightArm --planningSpace joint --deviceName trunkAndRightArm --kinematicsConfig teo-trunk-rightArm-fetch.ini
		</parameters>
		<node>localhost</node>
	</module>

	<module>
		<name>trajectoryGeneration</name>
		<parameters> --from /usr/local/share/teo-sharon/applications/conf/TrajectoryGenerationTrunkAndLeftArm.ini
		</parameters>
		<node>localhost</node>
	</module>
	
	<module>
		<name>python3</name>
		<parameters>/home/elisabeth/repos/teo-sharon/programs/EncryptedComms/serverEncrypted.py</parameters>
		<node>localhost</node>
	</module>
	
	
	<module>
		<name>python3</name>
		<parameters>/home/elisabeth/repos/teo-sharon/programs/glassesDatabaseVisualization/matchingGlassesTeoImages.py</parameters>
		<node>localhost</node>
	</module>

 	<module>
        <name>yarpview</name>
        <parameters>--name /yarpview/rgbd/rgbImage:i</parameters>
        <node>localhost</node>
    </module>
    <connection>
        <from>/teoSim/camera/rgbImage:o</from>
        <to>/yarpview/rgbd/rgbImage:i</to>
        <!--protocol></protocol-->
    </connection>
    
    <module>
        <name>yarpview</name>
        <parameters>--name /yarpview/rgbd/depthImage:i</parameters>
        <node>localhost</node>
    </module>
    <!-- Requires YARP compiled with ENABLE_yarpcar_depthimage -->
    <connection>
        <from>/teoSim/camera/depthImage:o</from>
        <to>/yarpview/rgbd/depthImage:i</to>
        <protocol>udp+recv.portmonitor+type.dll+file.depthimage</protocol>
    </connection>

    <module>
        <name>yarpview</name>
        <parameters>--name /yarpview/rgbdObjectDetection/img:i</parameters>
        <node>localhost</node>
    </module>
    <connection>
        <from>/rgbdObjectDetection/img:o </from>
        <to>/yarpview/rgbdObjectDetection/img:i</to>
    </connection>

    <module>
        <name>yarpview</name>
        <parameters>--name /yarpview/glassesServer/images:i</parameters>
        <node>localhost</node>
    </module>
    <connection>
        <from>/glassesServer/images:o</from>
        <to>/yarpview/glassesServer/images:i</to>
    </connection>
    
        <device name="cbw_yarp" type="controlBoard_nws_yarp">
        <param name="name"> /foo/head </param>
        <action phase="startup" level="5" type="attach">
            <param name="device"> cbwl </param>
        </action>
        <action phase="shutdown" level="5" type="detach" />
    </device>

    <device name="cbw_ros" type="controlBoard_nws_ros">
        <param name="nodeName"> /zot </param>
        <param name="topicName"> /top </param>
        <action phase="startup" level="5" type="attach">
            <param name="device"> /teoSim/trunkAndRightArm </param>
        </action>
        <action phase="shutdown" level="5" type="detach" />
    </device>


</application>
